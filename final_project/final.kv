#:import C kivy.utils.get_color_from_hex  

WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:
    FourthWindow:
    FifthWindow:
 
<Button>
    background_normal: 'buttonNormal.png'
    background_color: C("#1B3B6F") 

<MainWindow>:
    name: "main"

    GridLayout:
        cols:1

        Label:
            text: "Automated Musical Xylophone"

        Button:
            text: "Play and Light Up"
            on_release:
                app.root.current = "play" 
                root.manager.transition.direction = "left"
        Button:
            text: "Light Up and Follow Along"
            on_release:
                app.root.current = "light" 
                root.manager.transition.direction = "left"
        Button:
            text: "Record and Play Recording"
            on_release:
                app.root.current = "record" 
                root.manager.transition.direction = "left"


<SecondWindow>:
    name: "play"
    FloatLayout:
        GridLayout:
            cols:3
            size_hint: .95,.8
            pos_hint: {"center_x": 0.5, "top": .95}
            Button:
                text: "Can't Hold Us"
                on_press:
                    root.play1()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Under the Sea"
                on_press:
                    root.play2()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Whole New World"
                on_press:
                    root.play3()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Stay by Rihanna"
                on_press:
                    root.play4()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Twinkle Twinkle Little Star"
                on_press:
                    root.play5()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Do You Want to Build a Snowman"
                on_press:
                    root.play6()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "BINGO"
                on_press:
                    root.play7()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Kiss the Girl"
                on_press:
                    root.play8()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Imperial March"
                on_press:
                    root.play9()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Jingle Bells"
                on_press:
                    root.play10()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Mary Had a Little Lamb"
                on_press:
                    root.play11()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Wrecking Ball"
                on_press:
                    root.play12()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
        
        GridLayout:
            cols:1
            size_hint: .95,.1
            pos_hint: {"center_x": 0.5, "top": .15}    
                
            Button:
                text: "Back"
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
        
<ThirdWindow>:
    name: "light"
    FloatLayout:
        GridLayout:
            cols:3
            size_hint: .95,.8
            pos_hint: {"center_x": 0.5, "top": .95}
            Button:
                text: "Can't Hold Us"
                on_press:
                    root.light1()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Under the Sea"
                on_press:
                    root.light2()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Whole New World"
                on_press:
                    root.light3()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Stay by Rihanna"
                on_press:
                    root.light4()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Twinkle Twinkle Little Star"
                on_press:
                    root.light5()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Do You Want to Build a Snowman"
                on_press:
                    root.light6()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "BINGO"
                on_press:
                    root.light7()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Kiss the Girl"
                on_press:
                    root.light8()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Imperial March"
                on_press:
                    root.light9()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Jingle Bells"
                on_press:
                    root.light10()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "Mary Had a Little Lamb"
                on_press:
                    root.light11()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
            Button:
                text: "Wrecking Ball"
                on_press:
                    root.light12()
                on_release:
                    app.root.current = "startStop" 
                    root.manager.transition.direction = "left"
            
        GridLayout:
            cols:1
            size_hint: .95,.1
            pos_hint: {"center_x": 0.5, "top": .15}   
            
            Button:
                text: "Back"
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
  

<FourthWindow>:
    name: "record"
    GridLayout:
        cols:1
        
        Label: 
            id: label2
            name: "label2"
            text: "Waiting for Instruction"
            
        Button:
            text: "Record Your Melody"
            on_press:
                root.start()
            on_release:
                root.middle()
        
        Button:
            text: "Turn MIDI to CSV"
            on_press:
                root.almostEnd()
            on_release:
                root.record()
        
        Button:
            text: "Play Your Recording"
            on_press:
                root.playRecording()
            on_release:
                app.root.current = "startStop" 
                root.manager.transition.direction = "left"
                
        Button:
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "right"

<FifthWindow>:
    name: "startStop"
    GridLayout:
        cols:1
        
        Label: 
            id: label1
            name: "label1"
            text: "Waiting for Instruction"
        
        Button:
            text: "Start Song"
            on_press:
                root.startSong()
        
        Button:
            text: "Stop Song"
            on_press:
                root.stopSong()
        
        Button:
            text: "Back"
            on_release:
                screen = root.returnBack()
                app.root.current = screen
                root.manager.transition.direction = "right"
                
        